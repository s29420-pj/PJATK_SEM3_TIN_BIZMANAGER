<!DOCTYPE html>
<html lang="en">
<head>
    <title>BizManager</title>
    <meta charset="UTF-8">
    <meta name='viewport' content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- CSS -->
    <link href="css/style.css" rel="stylesheet">

    <!-- Boxicons -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <!-- Normalize CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
          integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>

    <!-- JavaScript -->
    <script src="js/prices.js"></script>
    <script src="js/tasks.js"></script>
    <script src="js/contacts.js"></script>
    <script src="js/dbList.js"></script>
    <script src="js/sidebar.js"></script>
    <script src="js/invoice.js"></script>
    <script>
        window.onload = function () {
            updateProductList();
        };
    </script>

</head>
<body>
<div class="wrapper">
    <nav class="sidebar hide-on-print">
        <div class="navLogo">
            <i class='bx bxs-coffee-bean' ></i>
            <span class="navLogoTitle">BizManager</span>
        </div>
        <div class="navSearch" id="navSearch">
            <i class='bx bx-search' ></i>
            <input type="text" placeholder="Search..." oninput="filterProducts()">
        </div>
        <a href="#" class="navLink" onclick="onClickInvoice()">
            <i class='bx bx-credit-card'></i>
            <span class="navTitle">NEW INVOICE</span>
        </a>
        <a href="#" class="navLink" onclick="onClickPrices()">
            <i class='bx bx-money' ></i>
            <span class="navTitle">PRICES</span>
        </a>
        <a href="#" class="navLink" onclick="onClickTasks()">
            <i class='bx bx-task' ></i>
            <span class="navTitle">TASKS</span>
        </a>
        <a href="#" class="navLink" onclick="onClickContacts()">
            <i class='bx bx-user' ></i>
            <span class="navTitle">CONTACTS</span>
        </a>
        <footer>
            &copy; 2023 PJATK s29420 TIN
        </footer>
    </nav>
    <main class="mainContent">
        <div class="mainContentTitle hide-on-print">
            <h1 id="mainTitle">New Invoice</h1>
            <a href="#" class="newButton" id="newContactButton" onclick="newContact()">
                <i class='bx bx-user-plus'></i>
                <span class="newContactButtonTitle">NEW</span>
            </a>
            <a href="#" class="newButton" id="newTaskButton" onclick="newTask()">
                <i class='bx bx-task' ></i>
                <span class="newTaskButtonTitle">NEW</span>
            </a>
            <a href="#" class="newButton" id="newProductButton" onclick="newProduct()">
                <i class='bx bxl-shopify' ></i>
                <span class="newTaskButtonTitle">NEW</span>
            </a>
        </div>
        <div class="mainContentDiv" id="mainContentDiv">
            <table class="table" id="contactTable">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Surname</th>
                    <th>e-mail</th>
                    <th>Phone Number</th>
                </tr>
                </thead>
                <tbody class="tableBody" id="tableBody"></tbody>
            </table>
            <div class="taskContainer" id="taskContainer"></div>
            <table class="table" id="priceTable">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Price</th>
                </tr>
                </thead>
                <tbody class="tableBody" id="tablePriceBody"></tbody>
            </table>
            <div class="invoiceContainer" id="invoiceContainer">
                <form class="invoiceForm">
                    <h3 id="buyerInformation">Buyer Information</h3>
                    <hr>
                    <p class="formLabel" id="nameLabel">Company Name / Name & Surname *
                        <input type="text" name="name" maxlength="50" required />
                    </p>
                    <p class="formLabel" id="nipLabel">NIP
                        <input type="number" name="nip" pattern="\d{10}" />
                    </p>
                    <p class="formLabel" id="addressLabel">Address *
                        <input type="text" name="address" maxlength="50" required />
                    </p>
                    <p class="formLabel" id="zipLabel">ZIP *
                        <input type="text" name="zip" pattern="[0-9]{2}-[0-9]{3}" required />
                    </p>
                    <p class="formLabel" id="cityLabel">City *
                        <input type="text" name="city" required />
                    </p>
                    <p class="formLabel" id="countryLabel">Country *
                        <select name="country">
                            <option value="pl">Poland</option>
                            <option value="en">England</option>
                            <option value="fr">France</option>
                        </select>
                    </p>
                    <hr>
                    <div class="addProductToInvoice hide-on-print">
                        <select id="product" onchange="updatePriceAndQuantity()"></select>
                        <input type="number" id="quantity" placeholder="Quantity" onchange="updateQuantityPrice()"/>
                        <input type="number" id="price" placeholder="Price" />
                        <a class="addToInvoiceButton" onclick="addToCart()">Buy</a>
                    </div>
                    <hr>
                    <table class="table" id="invoiceTable" style="display: table">
                        <thead>
                        <tr>
                            <th>lp.</th>
                            <th>Product Name</th>
                            <th>Quantity</th>
                            <th>Price</th>
                        </tr>
                        </thead>
                        <tbody class="tableBody" id="tableInvoiceBody"></tbody>
                    </table>
                    <hr>
                    <p id="sumDisplay">Sum: 0.00</p>
                    <hr>
                    <button class="hide-on-print" type="submit" onclick="printInvoice()">Print</button>
                </form>
            </div>
        </div>
    </main>
</div>
</body>
</html>